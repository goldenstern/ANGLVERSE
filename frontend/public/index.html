<!DOCTYPE html>
<html translate="no" lang="en-GB">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="user-scalable=no">
    <link rel="manifest" href="/manifest.json">
    <link rel="shortcut icon" href="<%= BASE_URL %>favicon.ico">
    <title><%= htmlWebpackPlugin.options.title %></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Arimo:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Rubik:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Source+Sans+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&display=swap" rel="stylesheet">
    <link href="<%= BASE_URL %>superstar.css" rel="stylesheet">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript" >
       (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
       m[i].l=1*new Date();
       for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
       k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
       (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
       ym(88737795, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true,
            webvisor:true
       });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/88737795" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
  </head>
  <body style="touch-action: none !important;">
    <noscript>
      <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
  <script>
   if (!navigator.serviceWorker.controller) {
       navigator.serviceWorker.register("/sw.js").then(function(reg) {
           console.log("Service worker has been registered for scope: " + reg.scope);
       });
   }
  </script>
  <script>
    function mobileFriendlyI() {
      setTimeout(function () {
        var ww = (document.documentElement.clientWidth < window.screen.width) ? window.innerWidth : window.screen.width; // get proper width
        var mw = 1080;
        // alert("width" + ww);
        var ratio = ww / mw; // calculate ratio
        // alert("ratio: " + ratio);
        if (ratio < 1) { // smaller than minimum size
            document.querySelector("meta[name='viewport']").setAttribute('content', 'initial-scale=' + ratio + ', maximum-scale=' + ratio + ', minimum-scale=' + ratio + ', user-scalable=no, width=' + mw + ', viewport-fit=cover');
            fitInIframe()
        } else { // regular size
            document.querySelector("meta[name='viewport']").setAttribute('content', 'initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, width=' + ww + ', viewport-fit=cover');
        }
        console.log("Th:", window.Telegram)
        console.log("User Agent:", navigator.userAgent);
        try {
            window.Telegram.WebApp.expand();
        } catch (e) {
            console.error("Error expanding Telegram WebApp:", e);
        }

        //try {
        //    window.Telegram.WebApp.requestFullscreen();
        //} catch (e) {
        //    console.error("Error requesting fullscreen:", e);
        //}

        try {
            window.Telegram.WebApp.enableClosingConfirmation();
        } catch (e) {
            console.error("Error enabling closing confirmation:", e);
        }

        try {
            window.Telegram.WebApp.ready();
        } catch (e) {
            console.error("Error signaling WebApp ready:", e);
        }

        try {
            window.Telegram.WebApp.isClosingConfirmationEnabled = true;
        } catch (e) {
            console.error("Error setting isClosingConfirmationEnabled:", e);
        }
      }, 0);
    }
    function fitInIframe() {
      var ww = window.innerWidth; // Width of the iframe
      var bodyWidth = 1080; // Width you want to fit in the iframe
      var zoomLevel = ww / bodyWidth;
      document.body.style.zoom = zoomLevel;
    }

    //window.onload = function () {
        mobileFriendlyI();
        // Add event listener for resize
        window.addEventListener("resize", mobileFriendlyI);
    //};
  </script>
</html>
